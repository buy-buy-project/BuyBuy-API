<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

use App\Http\Requests;

use App\Helpers\Markov;
use App\Helpers\Bayes;

use Khill\Lavacharts\Lavacharts;

class ExperimentosController extends Controller
{
    public function experimento1() {
    	/*$servidor = 'http://104.236.111.86:4020/experimento1/7';
        $context = stream_context_create(array(
            'http' => array(
                'method' => 'GET',
                'header' => "Connection: close\r\n".
                            "Content-type: application/json\r\n",
            )
        ));
        // Realize comunicação com o servidor
        $compras = file_get_contents($servidor, null, $context);*/

        $comprasIntervalo3 = '[{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-09-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-31"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-29"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-28"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-26"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-25"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-23"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-22"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-20"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-19"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-17"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-16"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-14"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-13"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-11"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-10"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-08"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-07"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-05"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-04"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-02"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-01"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-31"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-29"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-26"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-17"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-14"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-11"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-08"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-05"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-04"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-02"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-29"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-26"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-17"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-14"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-11"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-08"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-05"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-04"}]';

        $markov = Markov::aprendizagem(null, null, $comprasIntervalo3);
        Bayes::inferencia($markov['rede'], $markov['historico'], $markov['totalPorTransicao']);
    }

    public function experimento2() {
        // aleatório mesmo (13 -> 5)
        $compras = '[{"ruido": 1, "resposta": 5}, {"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-09-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-31"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-29"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-28"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-26"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-25"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-23"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-22"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-20"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-19"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-17"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-16"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-14"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-13"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-11"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-10"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-08"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-07"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-05"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-04"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-02"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-01"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-31"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-29"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-26"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-17"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-14"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-11"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-08"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-05"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-04"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-02"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-29"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-26"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-17"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-14"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-11"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-08"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-05"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-04"}]';

        // metade com 5
        $compras2 = '[{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-09-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-31"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-29"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-28"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-26"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-25"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-23"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-22"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-20"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-19"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-17"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-16"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-14"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-13"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-11"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-10"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-08"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-07"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-05"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-04"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-02"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-01"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-31"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-29"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-26"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-17"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-14"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-11"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-08"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-05"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-04"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-02"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-29"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-26"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-17"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-14"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-11"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-08"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-05"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-04"}]';


        // mais da metade com 5 (16)
        $compras3 = '[{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-09-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-31"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-29"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-28"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-26"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-25"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-23"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-22"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-20"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-19"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-17"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-16"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-14"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-13"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-11"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-10"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-08"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-07"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-05"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-04"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-02"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-01"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-31"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-29"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-26"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-17"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-14"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-11"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-08"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-05"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-04"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-02"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-29"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-26"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-17"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-14"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-11"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-08"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-05"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-04"}]';

        // menos da metade com 5 (14)
        $compras4 = '[{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-09-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-31"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-29"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-28"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-26"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-25"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-23"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-22"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-20"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-19"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-17"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-16"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-14"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-13"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-11"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-10"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-08-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-08"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-07"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-08-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-05"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-04"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-08-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-02"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-08-01"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-31"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-29"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-26"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-20"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-17"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-14"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-11"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-08"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-07-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-05"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-07-04"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-03"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-07-02"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-07-01"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-30"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-29"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-28"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-27"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-26"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-25"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-24"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-23"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-22"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-21"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-20"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-19"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-18"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-17"},{"consumidor":1,"produto_id":7,"quantidade":6,"data_lista":"2016-06-16"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-15"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-14"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-13"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-12"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-11"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-10"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-09"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-08"},{"consumidor":1,"produto_id":7,"quantidade":4,"data_lista":"2016-06-07"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-06"},{"consumidor":1,"produto_id":7,"quantidade":0,"data_lista":"2016-06-05"},{"consumidor":1,"produto_id":7,"quantidade":5,"data_lista":"2016-06-04"}]';

        $markov = Markov::aprendizagem(null, null, $compras3);
        $probabilidade = Bayes::inferencia($markov['rede'], $markov['historico'], $markov['totalPorTransicao']);
        $comprasArray = json_decode($compras);
        $infoExperimento = array_shift($comprasArray);
        $quantidadeCalculada = key($probabilidade);

        $lava = new Lavacharts; // See note below for Laravel

        $votes  = $lava->DataTable();

        $votes->addStringColumn('Ruido')
              ->addNumberColumn('Acertos')
              ->addRow(['1', 90])
              ->addRow(['2', 70])
              ->addRow(['3', 50])
              ->addRow(['4', 30])
              ->addRow(['5', 10]);

        $lava->BarChart('Acertos', $votes);

        echo '<div id="grafico"></div>';
        echo $lava->render('BarChart', 'Acertos', 'grafico');
    }
}
